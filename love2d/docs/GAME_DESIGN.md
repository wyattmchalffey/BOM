# Game Design Document

> Working title: **Battles of Masadoria**
> Genre: 2-player asymmetric base-building card game with real-time resource management
> Engine: Love2D (Lua)

---

## 1. Overview

Battles of Masadoria is a 1v1 card game where two players choose distinct factions, build up an economy through worker-driven resource production, construct structures from a shared blueprint deck, deploy units, and attack each other's bases. The first player to reduce the opponent's base health to 0 wins.

Each faction has unique workers, structures, units, and mechanics that create an asymmetric gameplay experience. The economy revolves around 11 resource types -- some universal (food, wood, stone) and others faction-specific (blood, bones, ectoplasm, crystal, fire, water).

---

## 2. Setup

### Faction Selection

Each player picks one of the four factions:

| Faction | Base | Starting Workers | Max Workers | Playstyle |
|---------|------|-----------------|-------------|-----------|
| **Human** | Castle (30 HP) | 3 | 10 | Balanced economy, tech upgrades, gold generation |
| **Orc** | Encampment (27 HP) | 3 | 10 | Sacrifice-driven, blood/bones economy, undead recursion |
| **Elf** | Elvish Encampment (30 HP) | 2 | 8 | Nature-themed, water/fire synergy, Tree of Life combos |
| **Gnome** | Reiki, the Spirit Turtle (35 HP) | 2 | 6 | Spirit mechs, ectoplasm/crystal economy, Crew mechanic |

### Starting State

- Each player places their faction's **Base** card on the board.
- Each player begins with their faction's **starting workers** (e.g., 3 Peasants for Human).
- The board contains shared **Resource Nodes** (Oat Fields, Forest, Quarry) that both players can access.
- All resources begin at 0.
- Each player draws an initial hand of cards from their deck.

### Deck Construction

Players build decks before the game using cards from their faction plus neutral cards. Each card has a **population** value that limits the maximum number of copies of that card allowed in a deck. For example, a card with population 8 can appear up to 8 times in a player's deck.

---

## 3. Turn Structure

Turns alternate between the two players. Each turn has three phases:

### Phase 1: Start of Turn — Production

1. **Worker Production**: Resources are generated based on workers assigned to resource nodes and structures. Each worker assigned to a node produces the node's resource. Workers are per-player -- you assign your own workers to your own resource nodes, not your opponent's.
2. **Structure Production**: Some structures produce resources automatically at the start or end of each turn (e.g., Hydroponic Farm produces 2 Food at end of turn).
3. **Draw Step**: The active player draws 1 card. (Exception: Orc's Encampment has a "skip draw" ability, requiring alternate draw sources.)

### Phase 2: Main Phase — Actions

During the main phase, the active player may take any number of actions in any order:

- **Build a Structure**: Pay the structure's build cost from your resources. Place it on your board from the blueprint deck (shared pool of available structures).
- **Activate an Ability**: Pay the activation cost of a structure, unit, or base ability. Some abilities are "once per turn."
- **Deploy a Unit**: Units are deployed through structures, not played directly from hand. The controlling structure's ability specifies the resource cost and the unit tier/type that can be deployed.
- **Assign Workers**: Move workers to or from resource nodes and structures that accept workers. Worker assignment takes effect on the next production phase.
- **Attack**: Send units to attack the opponent's units, structures, or base. See Section 7 for combat rules.
- **Play Spells/Items**: Pay any required costs and resolve the effect.

### Phase 3: End of Turn

1. **Food Rot**: Any unspent food in excess of your storage capacity rots and is lost. Structures like Grain Silo and Salt-Smoke Stacks prevent up to 8 food each from rotting.
2. **Upkeep**: Each unit with an upkeep cost must be paid. Upkeep is typically food. If a player cannot or chooses not to pay a unit's upkeep, that unit **dies** and goes to the graveyard.
3. **End-of-Turn Triggers**: Abilities that trigger at "end of turn" resolve (e.g., Hydroponic Farm producing food, Reiki producing ectoplasm).
4. **Decaying Units Die**: Units with the Decaying keyword are destroyed.

---

## 4. The Economy

### Resource Types

The game features 11 resource types:

| Resource | Letter | Universal? | Description |
|----------|--------|-----------|-------------|
| **Food** | F | Yes | Primary upkeep resource; rots at end of turn if not stored |
| **Wood** | W | Yes | Basic building material |
| **Stone** | S | Yes | Advanced building material |
| **Metal** | M | Human | Refined from stone + wood; used for tech & advanced units |
| **Gold** | G | Human | Generated by banks/mints; used for royal units & card draw |
| **Bones** | B | Orc | Created when non-undead allies die; fuels necromancy |
| **Blood** | Bl | Orc | Created by sacrificing non-undead allies; powers blood magic |
| **Ectoplasm** | Ec | Gnome | Spirit residue; used for mech creation & spirit recycling |
| **Crystal** | Cr | Gnome | Rare gem; used for powerful Gnome abilities |
| **Fire** | Fi | Elf | Destructive element; powers fire spells and units |
| **Water** | Wa | Elf | Restorative element; accumulated through "Water Level" structures |

### Universal Resources

**Food**, **Wood**, and **Stone** are available to all factions through shared Resource Nodes on the board. Workers assigned to these nodes produce resources each turn.

### Faction-Specific Resources

Each faction has unique resources generated through their own structures and abilities:

- **Human**: Metal (smelted from stone + wood) and Gold (generated by banks)
- **Orc**: Bones (from ally deaths) and Blood (from sacrifices)
- **Elf**: Fire (from flame structures) and Water (from water level structures)
- **Gnome**: Ectoplasm (from Reiki base + recycling) and Crystal (from geodes)

### Food Rot

At the end of each turn, all unspent food rots (is lost) unless the player has structures that prevent rot. Each Grain Silo or Salt-Smoke Stacks prevents up to 8 food from rotting. This mechanic forces players to either spend food or invest in food storage, preventing hoarding.

---

## 5. Workers

### Overview

Workers are the backbone of the economy. They are Tier 0 units that can be assigned to resource nodes and certain structures to produce resources. Each faction has its own worker type:

| Faction | Worker | Attack/Health | Special |
|---------|--------|--------------|---------|
| **Human** | Peasant | 0/2 | Basic worker; Loving Family (1/4) produces 2x resources |
| **Orc** | Grunt | 1/1 | Can fight as Tier 0 Warriors |
| **Elf** | Escaped Helot | 0/2 | Basic worker |
| **Gnome** | Gnome Ecto-engineer | 0/1 | Fragile but enables Crew mechanic |

### Worker Assignment

- Workers are assigned to **your own** resource nodes and structures during the main phase.
- Assignment takes effect on the next production phase.
- Each resource node specifies how many workers it can accept (typically up to 3).
- Some structures also accept workers (e.g., Mint, Spirit Canon).

### Worker Limits

Each faction has a maximum number of workers they can control at once:

- **Human**: 10 workers max
- **Orc**: 10 workers max
- **Elf**: 8 workers max
- **Gnome**: 6 workers max

New workers are produced through base abilities or special structures (e.g., Castle costs 3 Food to summon a Peasant, Woodland Passage costs 3 Wood to summon an Escaped Helot).

### Crew Mechanic (Gnome)

Gnome Spirit Mech units have the **Crew** keyword, meaning they cannot attack or deal combat damage unless a Gnome worker is committed (assigned) to them. This creates a tension between using workers for resource production vs. enabling combat units.

---

## 6. Structures

### Blueprint Deck

Structures are built from a shared **blueprint deck** -- a pool of available structure cards that both players can browse and build from. When a player pays the build cost, the structure is placed on their side of the board.

### Building Costs

Each structure has a build cost paid in resources. Costs are listed in the card's `costs` field. For example:
- Farmland: 2 Wood
- Barracks: 2 Stone
- Bank: 2 Stone, 2 Wood

### Population Limits

Each structure has a population value that limits how many copies can exist in a player's deck. Most unique structures have population 1 (only one copy). Some common structures like Farmland (population 4) or Breeding Pit (population 6) can appear multiple times.

### Structure Categories

**Resource Structures**: Generate or convert resources (Farmland, Smeltery, Mint, Bank, etc.)

**Military Structures**: Deploy units through activated abilities (Barracks, Stable, Dojo, Hall of Warriors, Ectoplasm Factory, etc.)

**Utility Structures**: Provide passive benefits or special abilities (Grain Silo, Cottage, Library, Breeding Pit, etc.)

**Sacred/Enhancement Structures**: Special structures with unique mechanics (Monument of the Star God, Elder House, Mushroom Stool, etc.)

---

## 7. Units & Combat

### Unit Stats

Each unit has:
- **Attack**: Damage dealt in combat
- **Health**: Damage the unit can take before dying
- **Tier**: Power level from 0 (workers/tokens) to 3 (legendary)
- **Subtypes**: Categories like Warrior, Mounted, Ninja, Mage, Beast, Undead, Mech, etc.
- **Keywords**: Special combat abilities (see Glossary)

### Tiers

| Tier | Description | Examples |
|------|-------------|---------|
| **0** | Workers, tokens, and disposable units | Peasant, Grunt, Brittle Skeleton, Spirit of the Brawler |
| **1** | Basic military units | Soldier, Horseman, Woodland Archer, Blood Divinator |
| **2** | Advanced units with stronger abilities | Lancer, Shinobi, Catapult, Berserker, Assassin |
| **3** | Legendary powerhouses | King of Man, Flying Machine, Ancient Giant, Flame Demon |

### Deploying Units

Units are **not** played directly from hand by paying a cost. Instead, they are deployed through **structure abilities**. For example:
- Barracks: "2 Wood: Play a Tier 1 Human Warrior"
- Hall of Warriors: "1 Blood, 1 Bones: Play a Tier 1 Orc Warrior"
- Beast Kennel: "2 Wood: Play a Tier 1 Beast"

The player pays the structure's ability cost, then places a matching unit card from their hand onto the battlefield.

### Upkeep

Many units have an **upkeep cost** that must be paid at the end of each turn to keep them alive. Upkeep is almost always food. If a player cannot or chooses not to pay a unit's upkeep, that unit dies.

**Upkeep tiers:**
- **Free (no upkeep)**: Workers, most Tier 0-1 units, all Spirit Mechs, Brittle Skeleton, Will-o'-Wisp
- **1 Food**: Gnome living units (Unsummoner, Puppet Master, Fortune Teller, Crystal Channeler, Priest of the Shell)
- **2 Food**: Tier 3 powerhouses (King of Man, Flying Machine, Ancient Giant, Flame Demon, Carrying Griffin)

### Combat

Combat is initiated during the main phase when the active player declares attackers. There is currently no speed/initiative stat -- combat resolves simultaneously unless modified by keywords like First Strike.

**Attack Resolution:**
1. Active player declares which units are attacking and their targets (opponent's units, structures, or base).
2. Defending player may assign blockers.
3. Damage is dealt simultaneously (unless First Strike applies).
4. Units that take damage equal to or exceeding their health are destroyed and go to the graveyard.
5. Excess damage from units with Trample carries over to structures.
6. Damage to the base reduces the base's health.

### Win Condition

Reduce the opponent's base health to 0.

---

## 8. Faction Profiles

### Human

**Theme**: Civilized kingdom with balanced economy and technological advancement.

**Unique Resources**: Metal (refined from stone + wood at Smeltery), Gold (produced by Bank and Mint).

**Key Mechanics**:
- **Technology**: Research upgrades at the Blacksmith that permanently buff units (e.g., Melee Age Up gives all Warriors +1 Attack).
- **Knowledge Counters**: Placed by Library and scholars; removed to draw cards or activate powerful effects.
- **Balanced Army**: Mix of Warriors (Barracks), Mounted (Stable), Ninjas (Dojo), Scholars (Library/Alchemy Table), Machines (Inventors Workshop), and Royals (Royal Throne).

**Strengths**: Versatile, good card draw, tech scaling.
**Weaknesses**: Slow ramp, requires multiple structure types for full army access.

### Orc

**Theme**: Brutal warband powered by death and sacrifice.

**Unique Resources**: Bones (created when non-undead allies die), Blood (created by sacrificing allies at Sacrificial Altar).

**Key Mechanics**:
- **Sacrifice Engine**: Killing your own units generates resources. The Crypt auto-generates bones from ally deaths; the Sacrificial Altar converts allies to blood.
- **Undead Recursion**: Brittle Skeletons die at end of turn (Decaying) but can be re-summoned by Skelieutenant for 3 Bones. Necromancer raises undead from the graveyard.
- **Monument**: Stone Golem and other Monument units are played by removing counters from Monument of the Star God, offering a unique non-resource deployment path.

**Strengths**: Explosive aggression, recursive board presence, strong late-game with Ancient Giant.
**Weaknesses**: No card draw on base (skip draw), self-destructive economy, low base health (27 HP).

### Elf

**Theme**: Nature rebels wielding elemental fire and water.

**Unique Resources**: Fire (from Flame of Retribution and unit sacrifices), Water (accumulated through Water Level structures).

**Key Mechanics**:
- **Water Level**: Structures like Watermill (+2), Waterfall (+3), and Wishing Well (+1) increase water level. Higher water levels enable stronger water units and effects.
- **Tree of Life**: A special resource node that gains Growth Counters each turn. Plan of Retribution lets you spend counters to deal damage. Flame Demon can destroy it to wipe all non-worker units.
- **Fire/Water Duality**: Fire is aggressive (Fire Toss, Flame Demon) while Water is defensive (Water Sentinel bounces, Water Serpent tempo).

**Strengths**: Strong first-strike archers, versatile elementals, devastating late-game combos.
**Weaknesses**: Fewer workers (8 max), relies on structure setup for elemental economy.

### Gnome

**Theme**: Tiny engineers piloting spirit-powered mechs.

**Unique Resources**: Ectoplasm (produced by Reiki base and recycled from spirit deaths), Crystal (doubled by Geodes each turn).

**Key Mechanics**:
- **Crew**: All Spirit Mech units require a Gnome worker committed to them before they can attack. This creates a constant tension between economy and military.
- **Ectoplasm Recycling**: When spirit units die, the Ectoplasm Recycling Center lets you pay 1 Ectoplasm to return them to hand.
- **Crystal Scaling**: Geodes double crystals each turn, creating an exponential resource curve. Crystal Channeler has stats equal to your crystal count.

**Strengths**: Exponential scaling, efficient recycling, high-stat mechs with keywords.
**Weaknesses**: Fewest workers (6 max), Crew requirement limits simultaneous attacks, slow start.

---

## 9. Glossary — Keywords

| Keyword | Effect |
|---------|--------|
| **Rush** | Can attack the turn it is summoned. |
| **Decaying** | Dies at the end of the turn. |
| **Flying** | Can only be blocked by other Flying units. |
| **First Strike** | Deals combat damage before the opponent in combat. |
| **Trample** | Excess combat damage carries over to structures or base. |
| **Vigilance** | Does not "rest" (exhaust) when attacking; can still block. |
| **Deathtouch** | Destroys any unit it damages, regardless of remaining health. |
| **Intercept** | May block attacks directed at other targets (acts as a bodyguard). |
| **Crew** | Cannot attack or deal combat damage unless a worker is committed to it. |
| **Monument** | Played by removing counters from a Monument structure (instead of paying resources). |
| **Haste** | Can act immediately when played (activate abilities, etc.). |

---

## Appendix: Card Count Summary

| Faction | Bases | Resource Nodes | Structures | Workers | Units | Spells | Technology | Items | Artifacts |
|---------|-------|---------------|-----------|---------|-------|--------|-----------|-------|-----------|
| Human | 1 | — | 18 | 2 | 12 | 1 | 1 | — | — |
| Orc | 1 | — | 12 | 1 | 10 | 3 | — | — | 1 |
| Elf | 1 | — | 18 | 1 | 11 | 1 | — | 1 | — |
| Gnome | 1 | — | 10 | 1 | 12 | — | — | — | — |
| Neutral | — | 4 | 5 | — | — | — | — | — | — |
| **Total** | **4** | **4** | **63** | **5** | **45** | **5** | **1** | **1** | **1** |
